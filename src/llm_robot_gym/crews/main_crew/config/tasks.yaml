main_task:
  description: >
    Play the Minigrid environment by taking optimal actions based on observations.

    Observation Grid:
    - A 7x7 grid dynamically generated relative to your position and orientation.
    - Your position is marked as "agent_X", where X is your orientation with respect to current observation grid.
    - The direction is according to the global map.
    - The grid uses the format <object>_<color>_<state>.
    - Tiles labeled unseen are outside your visible range.
    - And "lava" tiles will kill you if you step on them.

    Actions:
    - 0: Turn left
    - 1: Turn right
    - 2: Move forward
    - 3: Pickup object
    - 4: Drop object
    - 5: Toggle (e.g., open doors)
    - 6: Done (e.g., finish the game)

    Rules:
    - Use only valid actions (0-6).
    - PICKUP (3) works only if the target object is directly in front of you.
    - TOGGLE (5) works only for interactable objects (e.g., doors).

    Plan:
    - Step 1: Identify your current position and direction.
    - Step 2: Locate key objects that are relevant to the mission (e.g., keys, doors, goal).
    - Step 3: Plan optimal movements to achieve the mission.

    Mission:
    {mission}

    Observation:
    {observation}

    Observation history:
    {observation_history}

    Your Answer:
    Explain the reasoning for your action and output a valid action number (0-6). You are allowed to execute only one action.
    
  expected_output: >
    An explanation of what you are thinking and an action number 
    (only the numbers 0-6 are valid, only one action is expected)

  agent: brain_agent